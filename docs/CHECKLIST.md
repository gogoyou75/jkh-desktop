# ☑️ CODEX CHECKLIST — JKH

Отметить каждый пункт:  
[✔] — пройдено  
[✘] — провал (СТОП)

---

## Архитектура

- [ ] Единый модуль ролей (getRole)
- [ ] Единый namespace базы
- [ ] Нет прямого доступа к localStorage
- [ ] Safe load/save обёртки

---

## Роли

- [ ] Guest = только просмотр
- [ ] User = своя база
- [ ] Admin = отдельная база
- [ ] «Все базы» = read-only

---

## UI

- [ ] Нет guest-toast на запрещённых страницах
- [ ] Disabled вместо alert
- [ ] new_abonent.html — список квартир не пуст

---

## Импорт

- [ ] Импорт без ошибок в консоли
- [ ] Импорт пишется в активную базу
- [ ] Импортированные строки заблокированы

---

## Финансовая логика

- [ ] Нулевой старт абонента
- [ ] Anti-retro соблюдён
- [ ] «За период» не влияет на дату
- [ ] Пеня считается корректно

---

## Совместимость

- [ ] Работает через file://
- [ ] Нет ES-modules
- [ ] Старые данные не ломаются

---

## Итог

- [ ] ВСЕ пункты пройдены → ✅ OK
- [ ] Есть ✘ → ⛔ STOP RELEASE
