# PROMPT_CANON — ПАПАЖКХ (WIN7 DESKTOP)

## Назначение
Данный документ является КАНОНИЧЕСКИМ техническим заданием проекта ПАПАЖКХ.
При любых противоречиях между кодом, README и иными документами —
приоритет имеет данный файл.

## Цель проекта
Создание автономной (offline) системы учета и расчёта ЖКХ
с возможностью упаковки в Desktop-приложение под Windows 7 / Windows 10.

## Ключевые принципы
- Offline-first (локальная работа без интернета)
- Единый расчётный движок
- Юридическая корректность расчёта задолженности и пени
- Возможность формирования справок для суда
- Совместимость с Windows 7 (Python 3.8)

## Роли
- Guest — просмотр
- User — работа с абонентами и расчётами
- Admin — управление пользователями, тарифами, ставками

## Обязательные сущности
- Абонент (UID, ФИО, адрес, площадь)
- Начисления (помесячно)
- Платежи (дата, сумма, период)
- Тарифы (с датой начала действия)
- Ставки рефинансирования
- Исключённые периоды и моратории

## Расчёт пени (ЖК РФ)
- 0–30 день: 0%
- 31–90 день: 1/300 ставки
- 91+ день: 1/130 ставки
- Учёт истории ставок по дням

## Критические правила
- Начисление не более одного раза в месяц
- UID абонента неизменяем
- Расчёт пени не ломает основной долг
- Любые изменения тарифов → перерасчёт

## Desktop-ограничения
- Никаких облачных зависимостей
- Данные хранятся локально (SQLite / localStorage)
- Упаковка PyInstaller (one-folder)

Конец канонического ТЗ.
